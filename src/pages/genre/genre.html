<!--
  Generated template for the GenrePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="genre-header">
  <ion-title class="genre-title" >
    <ion-icon name="genreHeader"></ion-icon>
    电影分类
  </ion-title>

  <ion-toolbar class="genre-tabs">
    <ion-segment class="genre-tabs-box" [(ngModel)]="genreNav">
      <div class="swiper-container">
        <div class="swiper-wrapper">
          <div class="swiper-slide" *ngFor="let item of genresArr" (click)="selectNavItem(item.index)">
            <ion-segment-button class="genre-tab" value="{{item.navName}}">
              {{item.navName}}
            </ion-segment-button>
          </div>
        </div>
      </div>
    </ion-segment>
  </ion-toolbar>
</ion-header>

<ion-content class="genre-content">
  <!--<div [ngSwitch]="genreNav">-->
  <ion-slides (ionSlideDidChange)="slideChanged()">
    <ion-slide *ngFor="let item of genresArr">
      <ion-scroll class="genre-movieList" scrollY="true" [hidden]="!(genreNav == item.navName)">
        <ion-list>
          <ion-item *ngFor="let item of movie_list" (click)="goMovieDetailPage(item)">
            <ion-thumbnail class="movie-poster" item-start>
              <img src="{{item.images.small}}">
            </ion-thumbnail>
            <h2>{{item.title}}&nbsp;({{item.year}})</h2>
            <p class="douban-grade">豆瓣评分<span class="badge-ios-danger">{{item.rating.average}}</span></p>
            <p class="collect_count">有<span>{{item.collect_count}}</span>人收藏</p>
            <p class="directors">导演：<span *ngFor="let director of item.directors; index as i">{{director.name}}{{(i === item.directors.length-1)?'':'、'}}</span>
            </p>
            <p class="casts">主演：<span *ngFor="let cast of item.casts; index as i">{{cast.name}}{{(i === item.casts.length-1)?'':'、'}}</span>
            </p>
          </ion-item>
        </ion-list>
      </ion-scroll>
    </ion-slide>
  </ion-slides>
  <!--</div>-->
</ion-content>
